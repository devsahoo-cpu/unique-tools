<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Art Studio Pro - The ultimate digital toolkit for artists with color palettes, creative prompts, sketchpad, and project management.">
    <meta name="keywords" content="art studio, color palette, artist tools, digital sketchpad, art prompts, art composition, art reference">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Art Studio Pro - Professional Artist's Companion">
    <meta property="og:description" content="The ultimate digital toolkit for artists with color palettes, creative prompts, sketchpad, and project management.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourdomain.com/art-studio">
    <meta name="twitter:card" content="summary_large_image">
    
    <title>Art Studio Pro - Professional Digital Toolkit for Artists</title>
    
    <link rel="canonical" href="https://yourdomain.com/art-studio">
    
    <!-- Schema.org markup for Google -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Art Studio Pro",
      "url": "https://yourdomain.com/art-studio",
      "description": "Professional digital toolkit for artists with color palettes, creative prompts, sketchpad, and project management.",
      "applicationCategory": "ArtApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>
    
    <style>
        /* ===== Base Styles ===== */
        :root {
            --primary: #5E35B1; /* Deep purple */
            --primary-light: #9575CD;
            --primary-dark: #4527A0;
            --secondary: #FF7043; /* Deep orange */
            --secondary-light: #FF8A65;
            --secondary-dark: #E64A19;
            --accent: #26A69A; /* Teal */
            --background: #FAFAFA;
            --surface: #FFFFFF;
            --error: #D32F2F;
            --text-primary: #212121;
            --text-secondary: #757575;
            --divider: #BDBDBD;
            
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.16), 0 4px 6px rgba(0,0,0,0.23);
            --shadow-lg: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);
            
            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 12px;
            
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background-color: var(--background);
            padding: 0;
        }

        /* ===== Typography ===== */
        h1, h2, h3, h4 {
            font-weight: 500;
            line-height: 1.2;
            margin-bottom: 1rem;
        }

        h1 {
            font-size: 2.5rem;
            color: white;
        }

        h2 {
            font-size: 1.8rem;
            color: var(--primary);
            position: relative;
            padding-bottom: 0.5rem;
        }

        h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: var(--secondary);
        }

        h3 {
            font-size: 1.4rem;
            color: var(--primary-dark);
        }

        p {
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }

        a {
            color: var(--primary);
            text-decoration: none;
            transition: var(--transition);
        }

        a:hover {
            color: var(--primary-dark);
        }

        /* ===== Layout ===== */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            padding: 2rem 0;
            box-shadow: var(--shadow-md);
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .header-content {
            position: relative;
            z-index: 2;
            text-align: center;
        }

        .header-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.1;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="white"><circle cx="25" cy="25" r="3"/><circle cx="75" cy="25" r="3"/><circle cx="25" cy="75" r="3"/><circle cx="75" cy="75" r="3"/></svg>');
            background-size: 60px 60px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .card {
            background: var(--surface);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .card-icon {
            width: 48px;
            height: 48px;
            background: var(--primary-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }

        /* Ad container styles */
        .ad-container {
            background: white;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-sm);
            text-align: center;
            overflow: hidden;
            min-height: 90px;
        }

        /* ===== Components ===== */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius-md);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-size: 0.9rem;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            box-shadow: var(--shadow-md);
        }

        .btn-secondary {
            background: var(--secondary);
            color: white;
        }

        .btn-secondary:hover {
            background: var(--secondary-dark);
            box-shadow: var(--shadow-md);
        }

        .btn-outline {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: rgba(94, 53, 177, 0.1);
        }

        .btn-group {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin: 1rem 0;
        }

        .btn-sm {
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
        }

        .tab-container {
            margin-bottom: 1.5rem;
        }

        .tabs {
            display: flex;
            border-bottom: 1px solid var(--divider);
            margin-bottom: 1rem;
        }

        .tab {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            position: relative;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .tab.active {
            color: var(--primary);
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* ===== Color Palette ===== */
        .color-palette {
            display: flex;
            height: 100px;
            margin: 1.5rem 0;
            border-radius: var(--radius-md);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
        }

        .color {
            flex: 1;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding-bottom: 0.5rem;
            font-weight: 500;
            color: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
        }

        .color:hover {
            flex: 1.2;
        }

        .color::after {
            content: 'Click to copy';
            position: absolute;
            bottom: -20px;
            font-size: 0.7rem;
            opacity: 0;
            transition: var(--transition);
        }

        .color:hover::after {
            bottom: 5px;
            opacity: 1;
        }

        /* ===== Art Prompts ===== */
        .prompt-container {
            background: rgba(94, 53, 177, 0.05);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            margin: 1.5rem 0;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .art-prompt {
            font-size: 1.3rem;
            font-style: italic;
            line-height: 1.8;
        }

        /* ===== Quote Generator ===== */
        .quote-container {
            background: rgba(255, 112, 67, 0.05);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            margin: 1.5rem 0;
            min-height: 150px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .quote {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 1rem;
            position: relative;
        }

        .quote::before, .quote::after {
            color: var(--secondary);
            font-size: 2rem;
            line-height: 1;
            position: absolute;
        }

        .quote::before {
            content: '"';
            top: -10px;
            left: -15px;
        }

        .quote::after {
            content: '"';
            bottom: -30px;
            right: -15px;
        }

        .author {
            text-align: right;
            font-weight: 500;
            color: var(--primary);
            margin-top: 1rem;
        }

        /* ===== Sketchpad ===== */
        .sketchpad-container {
            margin: 1.5rem 0;
        }

        .toolbar {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
            align-items: center;
        }

        .tool-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            background: var(--surface);
            border: 2px solid var(--divider);
            transition: var(--transition);
        }

        .tool-btn.active {
            border-color: var(--primary);
            background: var(--primary);
            color: white;
        }

        .tool-btn:hover {
            transform: scale(1.1);
        }

        .color-picker {
            width: 40px;
            height: 40px;
            border: 2px solid var(--divider);
            border-radius: 50%;
            padding: 0;
            cursor: pointer;
        }

        .brush-size-label {
            margin-left: 0.5rem;
            font-weight: 500;
            color: var(--text-secondary);
        }

        #sketchpad {
            border: 2px solid var(--divider);
            border-radius: var(--radius-md);
            cursor: crosshair;
            background: white;
            width: 100%;
            height: 400px;
            touch-action: none;
            box-shadow: var(--shadow-sm);
        }

        /* ===== Reference Images ===== */
        .reference-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .reference-img {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow-sm);
        }

        .reference-img:hover {
            transform: scale(1.03);
            box-shadow: var(--shadow-md);
        }

        /* ===== Composition Helper ===== */
        .composition-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            width: 100%;
            height: 400px;
            border: 2px solid var(--divider);
            margin: 1.5rem 0;
            background: white;
            box-shadow: var(--shadow-sm);
        }

        .grid-cell {
            border: 1px dashed var(--divider);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: var(--divider);
            position: relative;
            overflow: hidden;
        }

        .grid-cell.active {
            background: rgba(94, 53, 177, 0.05);
        }

        .grid-cell.center {
            background: rgba(255, 112, 67, 0.05);
        }

        /* ===== Art Supplies Tracker ===== */
        .supply-item {
            display: flex;
            align-items: center;
            padding: 0.75rem;
            border-bottom: 1px solid var(--divider);
        }

        .supply-item:last-child {
            border-bottom: none;
        }

        .supply-checkbox {
            margin-right: 1rem;
        }

        .supply-name {
            flex: 1;
        }

        .supply-actions {
            display: flex;
            gap: 0.5rem;
        }

        /* ===== Project Tracker ===== */
        .project-card {
            border: 1px solid var(--divider);
            border-radius: var(--radius-md);
            padding: 1rem;
            margin-bottom: 1rem;
            transition: var(--transition);
        }

        .project-card:hover {
            border-color: var(--primary-light);
        }

        .project-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .project-title {
            font-weight: 500;
        }

        .project-date {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .project-status {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: var(--radius-sm);
            font-size: 0.8rem;
            font-weight: 500;
        }

        .status-planning {
            background: #B3E5FC;
            color: #01579B;
        }

        .status-in-progress {
            background: #C8E6C9;
            color: #1B5E20;
        }

        .status-completed {
            background: #DCEDC8;
            color: #33691E;
        }

        /* ===== Footer ===== */
        footer {
            background: var(--primary-dark);
            color: white;
            padding: 2rem 0;
            margin-top: 3rem;
            text-align: center;
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }

        /* ===== Responsive Design ===== */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            .grid {
                grid-template-columns: 1fr;
            }
            
            .toolbar {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-bg"></div>
        <div class="container header-content">
            <h1>Art Studio Pro</h1>
            <p class="light-text">The ultimate digital toolkit for creative artists</p>
        </div>
    </header>
    
    <main class="container">
        <!-- Top Ad Placement -->
        <div class="ad-container" id="propeller-top-ad" data-zoneid="YOUR_TOP_ZONE_ART">
            <!-- Ad will be loaded here -->
        </div>
        
        <div class="grid">
            <!-- Color Palette Generator -->
            <div class="card">
                <div class="card-header">
                    <h2>Color Studio</h2>
                    <div class="card-icon">🎨</div>
                </div>
                <p>Generate and manage beautiful color palettes for your artwork</p>
                
                <div class="tab-container">
                    <div class="tabs">
                        <div class="tab active" data-tab="generate">Generator</div>
                        <div class="tab" data-tab="saved">Saved Palettes</div>
                        <div class="tab" data-tab="harmonies">Color Harmonies</div>
                    </div>
                    
                    <div class="tab-content active" id="generate">
                        <div class="color-palette" id="colorPalette"></div>
                        <div class="btn-group">
                            <button class="btn btn-primary" id="generatePalette">Generate</button>
                            <button class="btn btn-secondary" id="savePalette">Save</button>
                            <button class="btn btn-outline" id="lockPalette">Lock Colors</button>
                        </div>
                        <div class="btn-group">
                            <button class="btn btn-sm" data-harmony="analogous">Analogous</button>
                            <button class="btn btn-sm" data-harmony="complementary">Complementary</button>
                            <button class="btn btn-sm" data-harmony="triadic">Triadic</button>
                            <button class="btn btn-sm" data-harmony="monochromatic">Monochromatic</button>
                        </div>
                    </div>
                    
                    <div class="tab-content" id="saved">
                        <div id="savedPalettes"></div>
                    </div>
                    
                    <div class="tab-content" id="harmonies">
                        <h3>Color Theory Basics</h3>
                        <p>Learn about different color harmony techniques:</p>
                        <ul style="margin-left: 1.5rem; margin-bottom: 1rem;">
                            <li><strong>Analogous:</strong> Colors next to each other on the color wheel</li>
                            <li><strong>Complementary:</strong> Colors opposite each other</li>
                            <li><strong>Triadic:</strong> Three colors evenly spaced</li>
                            <li><strong>Monochromatic:</strong> Variations of a single hue</li>
                        </ul>
                        <p>Click the buttons above to apply these harmonies to your palette.</p>
                    </div>
                </div>
            </div>
            
            <!-- Creative Prompts -->
            <div class="card">
                <div class="card-header">
                    <h2>Creative Catalyst</h2>
                    <div class="card-icon">💡</div>
                </div>
                <p>Spark your creativity with these artistic challenges</p>
                
                <div class="prompt-container">
                    <div class="art-prompt" id="artPrompt"></div>
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-primary" id="newPrompt">New Prompt</button>
                    <button class="btn btn-secondary" id="favoritePrompt">Save Favorite</button>
                    <button class="btn btn-outline" id="timerPrompt">Timer Challenge</button>
                </div>
                
                <div class="tab-container" style="margin-top: 1rem;">
                    <div class="tabs">
                        <div class="tab active" data-tab="random">Random</div>
                        <div class="tab" data-tab="favorites">Favorites</div>
                        <div class="tab" data-tab="categories">Categories</div>
                    </div>
                    
                    <div class="tab-content active" id="random">
                        <p>Get a completely random creative challenge</p>
                    </div>
                    
                    <div class="tab-content" id="favorites">
                        <div id="favoritePromptsList"></div>
                    </div>
                    
                    <div class="tab-content" id="categories">
                        <div class="btn-group">
                            <button class="btn btn-sm" data-category="painting">Painting</button>
                            <button class="btn btn-sm" data-category="drawing">Drawing</button>
                            <button class="btn btn-sm" data-category="mixed-media">Mixed Media</button>
                            <button class="btn btn-sm" data-category="abstract">Abstract</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Middle Ad Placement -->
        <div class="ad-container" id="propeller-middle-ad" data-zoneid="YOUR_MIDDLE_ZONE_ART">
            <!-- Ad will be loaded here -->
        </div>
        
        <div class="grid">
            <!-- Artist's Wisdom -->
            <div class="card">
                <div class="card-header">
                    <h2>Artist's Wisdom</h2>
                    <div class="card-icon">✍️</div>
                </div>
                <p>Inspiration from master artists and creatives</p>
                
                <div class="quote-container">
                    <div class="quote" id="quote"></div>
                    <div class="author" id="author"></div>
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-primary" id="newQuote">New Quote</button>
                    <button class="btn btn-secondary" id="saveQuote">Save Quote</button>
                    <button class="btn btn-outline" id="shareQuote">Share</button>
                </div>
                
                <div id="savedQuotes"></div>
            </div>
            
            <!-- Digital Sketchpad -->
            <div class="card">
                <div class="card-header">
                    <h2>Digital Sketchpad</h2>
                    <div class="card-icon">✏️</div>
                </div>
                <p>Quickly sketch out your ideas with this digital drawing tool</p>
                
                <div class="sketchpad-container">
                    <div class="toolbar">
                        <div class="tool-btn active" id="brushSmall" title="Small brush">•</div>
                        <div class="tool-btn" id="brushMedium" title="Medium brush">••</div>
                        <div class="tool-btn" id="brushLarge" title="Large brush">•••</div>
                        <input type="color" class="color-picker" id="colorPicker" value="#5E35B1">
                        <span class="brush-size-label">Size: <span id="brushSizeValue">2</span>px</span>
                    </div>
                    
                    <div class="toolbar">
                        <div class="tool-btn" id="eraser" title="Eraser">E</div>
                        <div class="tool-btn" id="clearCanvas" title="Clear">×</div>
                        <div class="tool-btn" id="undo" title="Undo">↩</div>
                        <div class="tool-btn" id="redo" title="Redo">↪</div>
                        <button class="btn btn-sm btn-primary" id="saveSketch">Save</button>
                        <button class="btn btn-sm btn-secondary" id="exportSketch">Export</button>
                    </div>
                    
                    <canvas id="sketchpad"></canvas>
                </div>
            </div>
        </div>
        
        <div class="grid">
            <!-- Composition Helper -->
            <div class="card">
                <div class="card-header">
                    <h2>Composition Studio</h2>
                    <div class="card-icon">🖼️</div>
                </div>
                <p>Plan your artwork with professional composition tools</p>
                
                <div class="composition-grid" id="compositionGrid">
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell center">+</div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                    <div class="grid-cell"></div>
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-primary" id="addReference">Add Reference</button>
                    <button class="btn btn-secondary" id="clearComposition">Clear</button>
                    <button class="btn btn-outline" id="saveComposition">Save Layout</button>
                </div>
                
                <div class="tab-container" style="margin-top: 1rem;">
                    <div class="tabs">
                        <div class="tab active" data-tab="ruleOfThirds">Rule of Thirds</div>
                        <div class="tab" data-tab="goldenRatio">Golden Ratio</div>
                        <div class="tab" data-tab="symmetry">Symmetry</div>
                    </div>
                    
                    <div class="tab-content active" id="ruleOfThirds">
                        <p>The rule of thirds divides your canvas into 9 equal parts. Place important elements along these lines or at their intersections.</p>
                    </div>
                    
                    <div class="tab-content" id="goldenRatio">
                        <p>The golden ratio (1:1.618) creates naturally pleasing compositions. Use the spiral as a guide for element placement.</p>
                    </div>
                    
                    <div class="tab-content" id="symmetry">
                        <p>Symmetrical compositions create balance and harmony, while asymmetrical designs can create dynamic tension.</p>
                    </div>
                </div>
            </div>
            
            <!-- Visual Reference Library -->
            <div class="card">
                <div class="card-header">
                    <h2>Visual Reference</h2>
                    <div class="card-icon">🖼️</div>
                </div>
                <p>Inspiration for your next masterpiece</p>
                
                <select id="referenceCategory" class="btn" style="width: 100%; margin-bottom: 1rem;">
                    <option value="nature">Nature</option>
                    <option value="portraits">Portraits</option>
                    <option value="architecture">Architecture</option>
                    <option value="still-life">Still Life</option>
                    <option value="abstract">Abstract</option>
                    <option value="animals">Animals</option>
                </select>
                
                <div class="reference-grid" id="referenceImages"></div>
                
                <div class="btn-group">
                    <button class="btn btn-primary" id="loadMoreImages">Load More</button>
                    <button class="btn btn-secondary" id="saveReference">Save to Collection</button>
                    <button class="btn btn-outline" id="uploadReference">Upload Your Own</button>
                </div>
            </div>
        </div>
        
        <!-- Bottom Ad Placement -->
        <div class="ad-container" id="propeller-bottom-ad" data-zoneid="YOUR_BOTTOM_ZONE_ART">
            <!-- Ad will be loaded here -->
        </div>
        
        <div class="grid">
            <!-- Art Supplies Tracker -->
            <div class="card">
                <div class="card-header">
                    <h2>Supplies Inventory</h2>
                    <div class="card-icon">🖌️</div>
                </div>
                <p>Track your art materials and shopping list</p>
                
                <div class="tab-container">
                    <div class="tabs">
                        <div class="tab active" data-tab="inventory">My Supplies</div>
                        <div class="tab" data-tab="shopping">Shopping List</div>
                        <div class="tab" data-tab="wishlist">Wishlist</div>
                    </div>
                    
                    <div class="tab-content active" id="inventory">
                        <div id="suppliesList">
                            <div class="supply-item">
                                <input type="checkbox" class="supply-checkbox" checked>
                                <div class="supply-name">Oil Paints Set</div>
                                <div class="supply-actions">
                                    <button class="btn btn-sm">Edit</button>
                                </div>
                            </div>
                            <div class="supply-item">
                                <input type="checkbox" class="supply-checkbox">
                                <div class="supply-name">Watercolor Paper 300gsm</div>
                                <div class="supply-actions">
                                    <button class="btn btn-sm">Edit</button>
                                </div>
                            </div>
                        </div>
                        <div style="margin-top: 1rem;">
                            <input type="text" id="newSupply" placeholder="Add new supply" style="padding: 0.5rem; width: 70%; margin-right: 0.5rem;">
                            <button class="btn btn-primary btn-sm" id="addSupply">Add</button>
                        </div>
                    </div>
                    
                    <div class="tab-content" id="shopping">
                        <p>Supplies you need to purchase</p>
                    </div>
                    
                    <div class="tab-content" id="wishlist">
                        <p>Future supplies you'd like to get</p>
                    </div>
                </div>
            </div>
            
            <!-- Project Tracker -->
            <div class="card">
                <div class="card-header">
                    <h2>Project Tracker</h2>
                    <div class="card-icon">📋</div>
                </div>
                <p>Organize and track your art projects</p>
                
                <div id="projectsList">
                    <div class="project-card">
                        <div class="project-header">
                            <div class="project-title">Sunset Landscape</div>
                            <div class="project-date">Started: May 15</div>
                        </div>
                        <div class="project-status status-in-progress">In Progress</div>
                    </div>
                    <div class="project-card">
                        <div class="project-header">
                            <div class="project-title">Abstract Composition</div>
                            <div class="project-date">Completed: May 5</div>
                        </div>
                        <div class="project-status status-completed">Completed</div>
                    </div>
                </div>
                
                <div style="margin-top: 1rem;">
                    <button class="btn btn-primary" id="addProject">Add New Project</button>
                </div>
                
                <div class="tab-container" style="margin-top: 1rem;">
                    <div class="tabs">
                        <div class="tab active" data-tab="all-projects">All</div>
                        <div class="tab" data-tab="planning">Planning</div>
                        <div class="tab" data-tab="in-progress">In Progress</div>
                        <div class="tab" data-tab="completed">Completed</div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="container footer-content">
            <h3>Art Studio Pro</h3>
            <p>The professional digital toolkit for artists of all levels</p>
            <p>© <span id="currentYear"></span> Art Studio Pro | All Rights Reserved</p>
        </div>
    </footer>

    <script>
        // ===== Initialize Ads =====
        function initializeAds() {
            // Main banner ads
            if (typeof propellerAds !== 'undefined') {
                propellerAds.init({
                    zones: {
                        'propeller-top-ad': 'YOUR_TOP_ZONE_ART',
                        'propeller-middle-ad': 'YOUR_MIDDLE_ZONE_ART', 
                        'propeller-bottom-ad': 'YOUR_BOTTOM_ZONE_ART'
                    }
                });
            }
            
            // Push notifications
            const pushScript = document.createElement('script');
            pushScript.src = 'https://push.propellerads.com/1?z=YOUR_PUSH_ZONE_ART';
            document.body.appendChild(pushScript);
        }

        // Set current year in footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // ===== Utility Functions =====
        function debounce(func, wait) {
            let timeout;
            return function() {
                const context = this, args = arguments;
                clearTimeout(timeout);
                timeout = setTimeout(() => func.apply(context, args), wait);
            };
        }

        function hexToHSL(hex) {
            let r = parseInt(hex.substring(1, 3), 16) / 255;
            let g = parseInt(hex.substring(3, 5), 16) / 255;
            let b = parseInt(hex.substring(5, 7), 16) / 255;

            let max = Math.max(r, g, b), min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0; // achromatic
            } else {
                let d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                h /= 6;
            }

            return {
                h: Math.round(h * 360),
                s: Math.round(s * 100),
                l: Math.round(l * 100)
            };
        }

        function HSLToHex(h, s, l) {
            s /= 100;
            l /= 100;

            let c = (1 - Math.abs(2 * l - 1)) * s,
                x = c * (1 - Math.abs((h / 60) % 2 - 1)),
                m = l - c / 2,
                r = 0, g = 0, b = 0;

            if (0 <= h && h < 60) {
                r = c; g = x; b = 0;
            } else if (60 <= h && h < 120) {
                r = x; g = c; b = 0;
            } else if (120 <= h && h < 180) {
                r = 0; g = c; b = x;
            } else if (180 <= h && h < 240) {
                r = 0; g = x; b = c;
            } else if (240 <= h && h < 300) {
                r = x; g = 0; b = c;
            } else if (300 <= h && h < 360) {
                r = c; g = 0; b = x;
            }

            r = Math.round((r + m) * 255).toString(16).padStart(2, '0');
            g = Math.round((g + m) * 255).toString(16).padStart(2, '0');
            b = Math.round((b + m) * 255).toString(16).padStart(2, '0');

            return `#${r}${g}${b}`;
        }

        // ===== Color Palette Generator =====
        const colorPalette = document.getElementById('colorPalette');
        const generatePaletteBtn = document.getElementById('generatePalette');
        const savePaletteBtn = document.getElementById('savePalette');
        const savedPalettesContainer = document.getElementById('savedPalettes');
        const lockPaletteBtn = document.getElementById('lockPalette');
        const harmonyButtons = document.querySelectorAll('[data-harmony]');

        let savedPalettes = JSON.parse(localStorage.getItem('savedPalettes')) || [];
        let lockedColors = [];

        function generateRandomColor() {
            const hue = Math.floor(Math.random() * 360);
            const saturation = 70 + Math.floor(Math.random() * 30);
            const lightness = 40 + Math.floor(Math.random() * 40);
            return `hsl(${hue}, ${saturation}%, ${lightness}%)`;
        }

        function generatePalette() {
            colorPalette.innerHTML = '';
            const palette = [];
            
            for (let i = 0; i < 5; i++) {
                let color;
                if (lockedColors[i]) {
                    color = lockedColors[i];
                } else {
                    color = generateRandomColor();
                }
                palette.push(color);
                
                const colorDiv = document.createElement('div');
                colorDiv.className = 'color';
                colorDiv.style.backgroundColor = color;
                colorDiv.textContent = color;
                
                colorDiv.addEventListener('click', () => {
                    navigator.clipboard.writeText(color).then(() => {
                        const originalText = colorDiv.textContent;
                        colorDiv.textContent = 'Copied!';
                        setTimeout(() => {
                            colorDiv.textContent = originalText;
                        }, 1000);
                    });
                });

                // Add lock toggle
                colorDiv.addEventListener('dblclick', () => {
                    const index = Array.from(colorPalette.children).indexOf(colorDiv);
                    if (lockedColors[index]) {
                        lockedColors[index] = null;
                        colorDiv.style.opacity = 1;
                    } else {
                        lockedColors[index] = color;
                        colorDiv.style.opacity = 0.8;
                        colorDiv.style.border = '2px solid white';
                    }
                });
                
                colorPalette.appendChild(colorDiv);
            }
            
            return palette;
        }

        function saveCurrentPalette() {
            const colors = Array.from(colorPalette.children).map(div => div.style.backgroundColor);
            savedPalettes.push(colors);
            localStorage.setItem('savedPalettes', JSON.stringify(savedPalettes));
            renderSavedPalettes();
        }

        function renderSavedPalettes() {
            savedPalettesContainer.innerHTML = '<h3>Saved Palettes</h3>';
            
            if (savedPalettes.length === 0) {
                savedPalettesContainer.innerHTML += '<p>No palettes saved yet</p>';
                return;
            }
            
            savedPalettes.forEach((palette, index) => {
                const paletteDiv = document.createElement('div');
                paletteDiv.style.display = 'flex';
                paletteDiv.style.height = '40px';
                paletteDiv.style.margin = '10px 0';
                
                palette.forEach(color => {
                    const colorDiv = document.createElement('div');
                    colorDiv.style.flex = '1';
                    colorDiv.style.backgroundColor = color;
                    colorDiv.style.cursor = 'pointer';
                    colorDiv.title = color;
                    colorDiv.addEventListener('click', () => {
                        navigator.clipboard.writeText(color);
                    });
                    paletteDiv.appendChild(colorDiv);
                });
                
                const deleteBtn = document.createElement('button');
                deleteBtn.textContent = '×';
                deleteBtn.className = 'btn btn-sm';
                deleteBtn.style.marginLeft = '10px';
                deleteBtn.addEventListener('click', () => {
                    savedPalettes.splice(index, 1);
                    localStorage.setItem('savedPalettes', JSON.stringify(savedPalettes));
                    renderSavedPalettes();
                });
                
                savedPalettesContainer.appendChild(paletteDiv);
                savedPalettesContainer.appendChild(deleteBtn);
            });
        }

        function applyColorHarmony(type) {
            const baseColor = colorPalette.children[0].style.backgroundColor;
            const baseHSL = hexToHSL(baseColor);
            
            let harmonies = [];
            
            switch(type) {
                case 'analogous':
                    harmonies = [
                        { h: (baseHSL.h + 30) % 360, s: baseHSL.s, l: baseHSL.l },
                        { h: (baseHSL.h + 15) % 360, s: baseHSL.s, l: baseHSL.l },
                        baseHSL,
                        { h: (baseHSL.h - 15 + 360) % 360, s: baseHSL.s, l: baseHSL.l },
                        { h: (baseHSL.h - 30 + 360) % 360, s: baseHSL.s, l: baseHSL.l }
                    ];
                    break;
                case 'complementary':
                    harmonies = [
                        baseHSL,
                        { h: (baseHSL.h + 180) % 360, s: baseHSL.s, l: baseHSL.l },
                        { h: baseHSL.h, s: baseHSL.s, l: baseHSL.l + 10 },
                        { h: (baseHSL.h + 180) % 360, s: baseHSL.s, l: baseHSL.l + 10 },
                        { h: baseHSL.h, s: baseHSL.s, l: baseHSL.l - 10 }
                    ];
                    break;
                case 'triadic':
                    harmonies = [
                        baseHSL,
                        { h: (baseHSL.h + 120) % 360, s: baseHSL.s, l: baseHSL.l },
                        { h: (baseHSL.h + 240) % 360, s: baseHSL.s, l: baseHSL.l },
                        { h: baseHSL.h, s: baseHSL.s, l: baseHSL.l + 15 },
                        { h: (baseHSL.h + 120) % 360, s: baseHSL.s, l: baseHSL.l - 15 }
                    ];
                    break;
                case 'monochromatic':
                    harmonies = [
                        { h: baseHSL.h, s: baseHSL.s, l: baseHSL.l },
                        { h: baseHSL.h, s: baseHSL.s, l: baseHSL.l + 15 },
                        { h: baseHSL.h, s: baseHSL.s, l: baseHSL.l - 15 },
                        { h: baseHSL.h, s: baseHSL.s + 15, l: baseHSL.l },
                        { h: baseHSL.h, s: baseHSL.s - 15, l: baseHSL.l }
                    ];
                    break;
            }
            
            // Apply to palette
            colorPalette.innerHTML = '';
            harmonies.forEach(hsl => {
                const hex = HSLToHex(hsl.h, hsl.s, hsl.l);
                const colorDiv = document.createElement('div');
                colorDiv.className = 'color';
                colorDiv.style.backgroundColor = hex;
                colorDiv.textContent = hex;
                colorPalette.appendChild(colorDiv);
            });
        }

        // Event listeners
        generatePaletteBtn.addEventListener('click', generatePalette);
        savePaletteBtn.addEventListener('click', saveCurrentPalette);
        lockPaletteBtn.addEventListener('click', () => {
            lockedColors = lockedColors.some(c => c) ? [] : Array.from(colorPalette.children).map(div => div.style.backgroundColor);
            lockPaletteBtn.textContent = lockedColors.some(c => c) ? 'Unlock Colors' : 'Lock Colors';
            generatePalette();
        });

        harmonyButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                applyColorHarmony(btn.dataset.harmony);
            });
        });

        // ===== Tab System =====
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const tabContainer = tab.closest('.tab-container');
                const tabId = tab.dataset.tab;
                
                // Update active tab
                tabContainer.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Update active content
                tabContainer.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                tabContainer.querySelector(`#${tabId}`).classList.add('active');
            });
        });

        // ===== Art Prompts =====
        const artPrompt = document.getElementById('artPrompt');
        const newPromptBtn = document.getElementById('newPrompt');
        const favoritePromptBtn = document.getElementById('favoritePrompt');
        const timerPromptBtn = document.getElementById('timerPrompt');
        const favoritePromptsList = document.getElementById('favoritePromptsList');

        const prompts = {
            random: [
                "Create a piece using only three colors from today's palette",
                "Illustrate a memory from your childhood using abstract shapes",
                "Draw what happiness looks like to you",
                "Create a portrait without using any lines",
                "Paint a landscape from an imaginary world",
                "Make art inspired by your favorite song (without using lyrics)",
                "Create a monochromatic piece about an emotion",
                "Draw with your non-dominant hand for a unique style",
                "Illustrate a dream you've had recently",
                "Create a piece that represents your current mood",
                "Combine two unrelated objects into one cohesive artwork",
                "Draw the same subject in three different art styles",
                "Create art using only geometric shapes",
                "Illustrate a moment of kindness you witnessed",
                "Draw what you imagine the view from your window looked like 100 years ago"
            ],
            painting: [
                "Paint a landscape using only palette knives",
                "Create a still life with dramatic lighting",
                "Paint a self-portrait using unconventional colors",
                "Try the 'wet-on-wet' watercolor technique",
                "Create an underpainting and glaze over it"
            ],
            drawing: [
                "Do a blind contour drawing of a complex object",
                "Create a value study using only cross-hatching",
                "Draw the negative spaces around a subject",
                "Try a continuous line drawing without lifting your pen",
                "Experiment with different mark-making techniques"
            ],
            'mixed-media': [
                "Combine ink drawing with watercolor washes",
                "Create a collage using found papers and paint",
                "Use masking fluid to preserve whites in a watercolor",
                "Combine digital and traditional media",
                "Experiment with texture pastes under your paint"
            ],
            abstract: [
                "Create a composition based on musical rhythms",
                "Use only straight lines and right angles",
                "Make a painting inspired by a scientific concept",
                "Create an artwork using only organic shapes",
                "Express a philosophical idea through pure abstraction"
            ]
        };

        let currentPrompt = '';
        let favoritePrompts = JSON.parse(localStorage.getItem('favoritePrompts')) || [];
        let timerInterval;

        function getRandomPrompt(category = 'random') {
            const categoryPrompts = prompts[category] || prompts.random;
            currentPrompt = categoryPrompts[Math.floor(Math.random() * categoryPrompts.length)];
            artPrompt.textContent = currentPrompt;
            return currentPrompt;
        }

        function saveFavoritePrompt() {
            if (currentPrompt && !favoritePrompts.includes(currentPrompt)) {
                favoritePrompts.push(currentPrompt);
                localStorage.setItem('favoritePrompts', JSON.stringify(favoritePrompts));
                renderFavoritePrompts();
                
                // Visual feedback
                favoritePromptBtn.textContent = 'Saved!';
                setTimeout(() => {
                    favoritePromptBtn.textContent = 'Save Favorite';
                }, 1000);
            }
        }

        function renderFavoritePrompts() {
            favoritePromptsList.innerHTML = '';
            
            if (favoritePrompts.length === 0) {
                favoritePromptsList.innerHTML = '<p>No favorite prompts yet</p>';
                return;
            }
            
            favoritePrompts.forEach((prompt, index) => {
                const promptDiv = document.createElement('div');
                promptDiv.className = 'prompt-container';
                promptDiv.style.marginBottom = '0.5rem';
                
                const promptText = document.createElement('div');
                promptText.className = 'art-prompt';
                promptText.textContent = prompt;
                promptDiv.appendChild(promptText);
                
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'btn btn-sm';
                deleteBtn.textContent = 'Remove';
                deleteBtn.style.marginTop = '0.5rem';
                deleteBtn.addEventListener('click', () => {
                    favoritePrompts.splice(index, 1);
                    localStorage.setItem('favoritePrompts', JSON.stringify(favoritePrompts));
                    renderFavoritePrompts();
                });
                
                promptDiv.appendChild(deleteBtn);
                favoritePromptsList.appendChild(promptDiv);
            });
        }

        function startPromptTimer() {
            let seconds = 60 * 30; // 30 minutes
            
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            
            const originalPrompt = currentPrompt;
            currentPrompt = `TIMER: ${formatTime(seconds)}\n${originalPrompt}`;
            artPrompt.textContent = currentPrompt;
            
            timerInterval = setInterval(() => {
                seconds--;
                currentPrompt = `TIMER: ${formatTime(seconds)}\n${originalPrompt}`;
                artPrompt.textContent = currentPrompt;
                
                if (seconds <= 0) {
                    clearInterval(timerInterval);
                    artPrompt.textContent = `TIME'S UP!\n${originalPrompt}`;
                }
            }, 1000);
            
            timerPromptBtn.textContent = 'Stop Timer';
            timerPromptBtn.onclick = stopPromptTimer;
        }

        function stopPromptTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            artPrompt.textContent = currentPrompt.split('\n')[1] || currentPrompt;
            timerPromptBtn.textContent = 'Timer Challenge';
            timerPromptBtn.onclick = startPromptTimer;
        }

        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        // Event listeners
        newPromptBtn.addEventListener('click', () => getRandomPrompt());
        favoritePromptBtn.addEventListener('click', saveFavoritePrompt);
        timerPromptBtn.addEventListener('click', startPromptTimer);

        // Category buttons
        document.querySelectorAll('[data-category]').forEach(btn => {
            btn.addEventListener('click', () => {
                getRandomPrompt(btn.dataset.category);
            });
        });

        // ===== Inspirational Quotes =====
        const quoteElement = document.getElementById('quote');
        const authorElement = document.getElementById('author');
        const newQuoteBtn = document.getElementById('newQuote');
        const saveQuoteBtn = document.getElementById('saveQuote');
        const shareQuoteBtn = document.getElementById('shareQuote');
        const savedQuotesContainer = document.getElementById('savedQuotes');

        const quotes = [
            {
                quote: "Every artist was first an amateur.",
                author: "Ralph Waldo Emerson"
            },
            {
                quote: "Art enables us to find ourselves and lose ourselves at the same time.",
                author: "Thomas Merton"
            },
            {
                quote: "Creativity takes courage.",
                author: "Henri Matisse"
            },
            {
                quote: "Art is not what you see, but what you make others see.",
                author: "Edgar Degas"
            },
            {
                quote: "The world always seems brighter when you've just made something that wasn't there before.",
                author: "Neil Gaiman"
            },
            {
                quote: "Art is the lie that enables us to realize the truth.",
                author: "Pablo Picasso"
            },
            {
                quote: "To be an artist is to believe in life.",
                author: "Henry Moore"
            },
            {
                quote: "Art washes away from the soul the dust of everyday life.",
                author: "Pablo Picasso"
            },
            {
                quote: "The position of the artist is humble. He is essentially a channel.",
                author: "Piet Mondrian"
            },
            {
                quote: "Art should comfort the disturbed and disturb the comfortable.",
                author: "Banksy"
            },
            {
                quote: "No great artist ever sees things as they really are. If he did, he would cease to be an artist.",
                author: "Oscar Wilde"
            },
            {
                quote: "Art is the only way to run away without leaving home.",
                author: "Twyla Tharp"
            },
            {
                quote: "The job of the artist is always to deepen the mystery.",
                author: "Francis Bacon"
            },
            {
                quote: "Art is the most intense mode of individualism that the world has known.",
                author: "Oscar Wilde"
            },
            {
                quote: "If I could say it in words there would be no reason to paint.",
                author: "Edward Hopper"
            }
        ];

        let savedQuotes = JSON.parse(localStorage.getItem('savedQuotes')) || [];
        let currentQuote = {};

        function getRandomQuote() {
            currentQuote = quotes[Math.floor(Math.random() * quotes.length)];
            quoteElement.textContent = currentQuote.quote;
            authorElement.textContent = currentQuote.author;
            return currentQuote;
        }

        function saveCurrentQuote() {
            if (currentQuote.quote && !savedQuotes.some(q => q.quote === currentQuote.quote)) {
                savedQuotes.push(currentQuote);
                localStorage.setItem('savedQuotes', JSON.stringify(savedQuotes));
                renderSavedQuotes();
                
                // Visual feedback
                saveQuoteBtn.textContent = 'Saved!';
                setTimeout(() => {
                    saveQuoteBtn.textContent = 'Save Quote';
                }, 1000);
            }
        }

        function renderSavedQuotes() {
            savedQuotesContainer.innerHTML = '<h3>Saved Quotes</h3>';
            
            if (savedQuotes.length === 0) {
                savedQuotesContainer.innerHTML += '<p>No quotes saved yet</p>';
                return;
            }
            
            savedQuotes.forEach((quote, index) => {
                const quoteDiv = document.createElement('div');
                quoteDiv.className = 'quote-container';
                quoteDiv.style.marginBottom = '1rem';
                
                const quoteText = document.createElement('div');
                quoteText.className = 'quote';
                quoteText.textContent = quote.quote;
                quoteDiv.appendChild(quoteText);
                
                const authorText = document.createElement('div');
                authorText.className = 'author';
                authorText.textContent = quote.author;
                quoteDiv.appendChild(authorText);
                
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'btn btn-sm';
                deleteBtn.textContent = 'Remove';
                deleteBtn.style.marginTop = '0.5rem';
                deleteBtn.addEventListener('click', () => {
                    savedQuotes.splice(index, 1);
                    localStorage.setItem('savedQuotes', JSON.stringify(savedQuotes));
                    renderSavedQuotes();
                });
                
                quoteDiv.appendChild(deleteBtn);
                savedQuotesContainer.appendChild(quoteDiv);
            });
        }

        function shareQuote() {
            if (navigator.share) {
                navigator.share({
                    title: 'Artist Quote',
                    text: `"${currentQuote.quote}" — ${currentQuote.author}`,
                    url: window.location.href
                }).catch(err => {
                    console.log('Error sharing:', err);
                });
            } else {
                // Fallback for browsers that don't support Web Share API
                const textArea = document.createElement('textarea');
                textArea.value = `"${currentQuote.quote}" — ${currentQuote.author}\n\nShared via Art Studio Pro`;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                shareQuoteBtn.textContent = 'Copied!';
                setTimeout(() => {
                    shareQuoteBtn.textContent = 'Share';
                }, 1000);
            }
        }

        // Event listeners
        newQuoteBtn.addEventListener('click', getRandomQuote);
        saveQuoteBtn.addEventListener('click', saveCurrentQuote);
        shareQuoteBtn.addEventListener('click', shareQuote);

        // ===== Digital Sketchpad =====
        const canvas = document.getElementById('sketchpad');
        const ctx = canvas.getContext('2d');
        const colorPicker = document.getElementById('colorPicker');
        const clearCanvasBtn = document.getElementById('clearCanvas');
        const brushSmallBtn = document.getElementById('brushSmall');
        const brushMediumBtn = document.getElementById('brushMedium');
        const brushLargeBtn = document.getElementById('brushLarge');
        const eraserBtn = document.getElementById('eraser');
        const undoBtn = document.getElementById('undo');
        const redoBtn = document.getElementById('redo');
        const saveSketchBtn = document.getElementById('saveSketch');
        const exportSketchBtn = document.getElementById('exportSketch');
        const brushSizeValue = document.getElementById('brushSizeValue');

        // Drawing state
        let isDrawing = false;
        let lastX = 0;
        let lastY = 0;
        let currentColor = colorPicker.value;
        let brushSize = 2;
        let isErasing = false;
        let drawingHistory = [];
        let historyIndex = -1;

        // Set canvas size
        function resizeCanvas() {
            const parentWidth = canvas.parentElement.clientWidth;
            canvas.width = parentWidth;
            canvas.height = 400;
            ctx.lineJoin = 'round';
            ctx.lineCap = 'round';
            redrawCanvas();
        }

        // Drawing functions
        function startDrawing(e) {
            isDrawing = true;
            [lastX, lastY] = getPosition(e);
            
            // Save current canvas state
            if (historyIndex < drawingHistory.length - 1) {
                drawingHistory = drawingHistory.slice(0, historyIndex + 1);
            }
            drawingHistory.push(canvas.toDataURL());
            historyIndex++;
            
            updateUndoRedoButtons();
        }

        function draw(e) {
            if (!isDrawing) return;
            
            ctx.strokeStyle = isErasing ? 'white' : currentColor;
            ctx.lineWidth = brushSize;
            
            const [x, y] = getPosition(e);
            
            ctx.beginPath();
            ctx.moveTo(lastX, lastY);
            ctx.lineTo(x, y);
            ctx.stroke();
            
            [lastX, lastY] = [x, y];
        }

        function stopDrawing() {
            isDrawing = false;
        }

        function getPosition(e) {
            let x, y;
            if (e.type.includes('touch')) {
                const rect = canvas.getBoundingClientRect();
                x = e.touches[0].clientX - rect.left;
                y = e.touches[0].clientY - rect.top;
            } else {
                x = e.offsetX;
                y = e.offsetY;
            }
            return [x, y];
        }

        function clearCanvas() {
            if (confirm('Clear the entire sketch?')) {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                drawingHistory.push(canvas.toDataURL());
                historyIndex++;
                updateUndoRedoButtons();
            }
        }

        function undo() {
            if (historyIndex > 0) {
                historyIndex--;
                redrawCanvas();
                updateUndoRedoButtons();
            }
        }

        function redo() {
            if (historyIndex < drawingHistory.length - 1) {
                historyIndex++;
                redrawCanvas();
                updateUndoRedoButtons();
            }
        }

        function redrawCanvas() {
            const img = new Image();
            img.onload = function() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.drawImage(img, 0, 0);
            };
            img.src = drawingHistory[historyIndex];
        }

        function updateUndoRedoButtons() {
            undoBtn.disabled = historyIndex <= 0;
            redoBtn.disabled = historyIndex >= drawingHistory.length - 1;
        }

        function saveSketch() {
            const sketchName = prompt('Name your sketch:', `Sketch ${new Date().toLocaleDateString()}`);
            if (sketchName) {
                const sketches = JSON.parse(localStorage.getItem('savedSketches')) || [];
                sketches.push({
                    name: sketchName,
                    date: new Date().toISOString(),
                    data: canvas.toDataURL()
                });
                localStorage.setItem('savedSketches', JSON.stringify(sketches));
                alert('Sketch saved!');
            }
        }

        function exportSketch() {
            const dataUrl = canvas.toDataURL('image/png');
            const link = document.createElement('a');
            link.download = `sketch-${new Date().toISOString().slice(0, 10)}.png`;
            link.href = dataUrl;
            link.click();
        }

        // Tool controls
        function setActiveTool(activeBtn) {
            document.querySelectorAll('.tool-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            activeBtn.classList.add('active');
        }

        colorPicker.addEventListener('input', (e) => {
            currentColor = e.target.value;
            isErasing = false;
            setActiveTool(document.querySelector('.tool-btn:not(#eraser)'));
        });

        clearCanvasBtn.addEventListener('click', clearCanvas);
        undoBtn.addEventListener('click', undo);
        redoBtn.addEventListener('click', redo);
        saveSketchBtn.addEventListener('click', saveSketch);
        exportSketchBtn.addEventListener('click', exportSketch);

        brushSmallBtn.addEventListener('click', () => {
            brushSize = 2;
            brushSizeValue.textContent = brushSize;
            isErasing = false;
            setActiveTool(brushSmallBtn);
        });

        brushMediumBtn.addEventListener('click', () => {
            brushSize = 5;
            brushSizeValue.textContent = brushSize;
            isErasing = false;
            setActiveTool(brushMediumBtn);
        });

        brushLargeBtn.addEventListener('click', () => {
            brushSize = 10;
            brushSizeValue.textContent = brushSize;
            isErasing = false;
            setActiveTool(brushLargeBtn);
        });

        eraserBtn.addEventListener('click', () => {
            isErasing = true;
            setActiveTool(eraserBtn);
        });

        // Event listeners for drawing
        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', stopDrawing);
        canvas.addEventListener('mouseout', stopDrawing);

        // Touch support
        canvas.addEventListener('touchstart', (e) => {
            e.preventDefault();
            startDrawing(e);
        });

        canvas.addEventListener('touchmove', (e) => {
            e.preventDefault();
            draw(e);
        });

        canvas.addEventListener('touchend', (e) => {
            e.preventDefault();
            stopDrawing();
        });

        // ===== Reference Images =====
        const referenceCategory = document.getElementById('referenceCategory');
        const referenceImagesContainer = document.getElementById('referenceImages');
        const loadMoreImagesBtn = document.getElementById('loadMoreImages');
        const saveReferenceBtn = document.getElementById('saveReference');
        const uploadReferenceBtn = document.getElementById('uploadReference');

        const referenceImages = {
            nature: [
                'https://source.unsplash.com/random/600x600/?nature',
                'https://source.unsplash.com/random/600x600/?landscape',
                'https://source.unsplash.com/random/600x600/?forest',
                'https://source.unsplash.com/random/600x600/?ocean',
                'https://source.unsplash.com/random/600x600/?mountain',
                'https://source.unsplash.com/random/600x600/?flower'
            ],
            portraits: [
                'https://source.unsplash.com/random/600x600/?portrait',
                'https://source.unsplash.com/random/600x600/?face',
                'https://source.unsplash.com/random/600x600/?woman',
                'https://source.unsplash.com/random/600x600/?man',
                'https://source.unsplash.com/random/600x600/?child',
                'https://source.unsplash.com/random/600x600/?elderly'
            ],
            architecture: [
                'https://source.unsplash.com/random/600x600/?building',
                'https://source.unsplash.com/random/600x600/?architecture',
                'https://source.unsplash.com/random/600x600/?city',
                'https://source.unsplash.com/random/600x600/?skyscraper',
                'https://source.unsplash.com/random/600x600/?bridge',
                'https://source.unsplash.com/random/600x600/?interior'
            ],
            'still-life': [
                'https://source.unsplash.com/random/600x600/?still-life',
                'https://source.unsplash.com/random/600x600/?fruit',
                'https://source.unsplash.com/random/600x600/?flowers',
                'https://source.unsplash.com/random/600x600/?vase',
                'https://source.unsplash.com/random/600x600/?book',
                'https://source.unsplash.com/random/600x600/?food'
            ],
            abstract: [
                'https://source.unsplash.com/random/600x600/?abstract',
                'https://source.unsplash.com/random/600x600/?art',
                'https://source.unsplash.com/random/600x600/?painting',
                'https://source.unsplash.com/random/600x600/?texture',
                'https://source.unsplash.com/random/600x600/?pattern',
                'https://source.unsplash.com/random/600x600/?colorful'
            ],
            animals: [
                'https://source.unsplash.com/random/600x600/?animal',
                'https://source.unsplash.com/random/600x600/?bird',
                'https://source.unsplash.com/random/600x600/?cat',
                'https://source.unsplash.com/random/600x600/?dog',
                'https://source.unsplash.com/random/600x600/?wildlife',
                'https://source.unsplash.com/random/600x600/?horse'
            ]
        };

        let savedReferences = JSON.parse(localStorage.getItem('savedReferences')) || [];

        function loadReferenceImages(category) {
            referenceImagesContainer.innerHTML = '';
            referenceImages[category].forEach(imgUrl => {
                const img = document.createElement('img');
                img.src = imgUrl;
                img.className = 'reference-img';
                img.alt = 'Reference image for artists';
                img.loading = 'lazy';
                
                // Make image draggable to composition grid
                img.draggable = true;
                img.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', img.src);
                });
                
                referenceImagesContainer.appendChild(img);
            });
        }

        function saveCurrentReference() {
            // In a real app, you would implement a way to select which image to save
            alert('Feature coming soon! This will allow saving images to your personal collection.');
        }

        function uploadReferenceImage() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            
            input.onchange = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        const img = document.createElement('img');
                        img.src = event.target.result;
                        img.className = 'reference-img';
                        img.alt = 'Uploaded reference image';
                        
                        // Make image draggable to composition grid
                        img.draggable = true;
                        img.addEventListener('dragstart', (e) => {
                            e.dataTransfer.setData('text/plain', img.src);
                        });
                        
                        referenceImagesContainer.prepend(img);
                    };
                    reader.readAsDataURL(file);
                }
            };
            
            input.click();
        }

        // Event listeners
        referenceCategory.addEventListener('change', (e) => {
            loadReferenceImages(e.target.value);
        });

        loadMoreImagesBtn.addEventListener('click', () => {
            // In a real app, this would load more images of the current category
            loadReferenceImages(referenceCategory.value);
        });

        saveReferenceBtn.addEventListener('click', saveCurrentReference);
        uploadReferenceBtn.addEventListener('click', uploadReferenceImage);

        // ===== Composition Helper =====
        const compositionGrid = document.getElementById('compositionGrid');
        const addReferenceBtn = document.getElementById('addReference');
        const clearCompositionBtn = document.getElementById('clearComposition');
        const saveCompositionBtn = document.getElementById('saveComposition');

        // Make grid cells drop targets
        compositionGrid.querySelectorAll('.grid-cell').forEach(cell => {
            cell.addEventListener('dragover', (e) => {
                e.preventDefault();
                cell.classList.add('active');
            });
            
            cell.addEventListener('dragleave', () => {
                cell.classList.remove('active');
            });
            
            cell.addEventListener('drop', (e) => {
                e.preventDefault();
                cell.classList.remove('active');
                
                const imgSrc = e.dataTransfer.getData('text/plain');
                if (imgSrc) {
                    cell.innerHTML = '';
                    
                    const img = document.createElement('img');
                    img.src = imgSrc;
                    img.style.maxWidth = '100%';
                    img.style.maxHeight = '100%';
                    img.style.objectFit = 'cover';
                    img.alt = 'Composition reference';
                    
                    cell.appendChild(img);
                }
            });
        });

        // ===== Art Supplies Tracker =====
        const suppliesList = document.getElementById('suppliesList');
        const newSupplyInput = document.getElementById('newSupply');
        const addSupplyBtn = document.getElementById('addSupply');

        let artSupplies = JSON.parse(localStorage.getItem('artSupplies')) || [
            { name: 'Oil Paints Set', have: true },
            { name: 'Watercolor Paper 300gsm', have: false }
        ];

        function renderSupplies() {
            suppliesList.innerHTML = '';
            
            artSupplies.forEach((supply, index) => {
                const supplyItem = document.createElement('div');
                supplyItem.className = 'supply-item';
                
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.className = 'supply-checkbox';
                checkbox.checked = supply.have;
                checkbox.addEventListener('change', () => {
                    artSupplies[index].have = checkbox.checked;
                    localStorage.setItem('artSupplies', JSON.stringify(artSupplies));
                });
                
                const nameSpan = document.createElement('div');
                nameSpan.className = 'supply-name';
                nameSpan.textContent = supply.name;
                
                const actionsDiv = document.createElement('div');
                actionsDiv.className = 'supply-actions';
                
                const editBtn = document.createElement('button');
                editBtn.className = 'btn btn-sm';
                editBtn.textContent = 'Edit';
                editBtn.addEventListener('click', () => {
                    const newName = prompt('Edit supply name:', supply.name);
                    if (newName && newName.trim() !== '') {
                        artSupplies[index].name = newName.trim();
                        localStorage.setItem('artSupplies', JSON.stringify(artSupplies));
                        renderSupplies();
                    }
                });
                
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'btn btn-sm';
                deleteBtn.textContent = 'Delete';
                deleteBtn.addEventListener('click', () => {
                    if (confirm(`Remove ${supply.name} from your supplies?`)) {
                        artSupplies.splice(index, 1);
                        localStorage.setItem('artSupplies', JSON.stringify(artSupplies));
                        renderSupplies();
                    }
                });
                
                actionsDiv.appendChild(editBtn);
                actionsDiv.appendChild(deleteBtn);
                
                supplyItem.appendChild(checkbox);
                supplyItem.appendChild(nameSpan);
                supplyItem.appendChild(actionsDiv);
                
                suppliesList.appendChild(supplyItem);
            });
        }

        function addNewSupply() {
            const supplyName = newSupplyInput.value.trim();
            if (supplyName) {
                artSupplies.push({ name: supplyName, have: false });
                localStorage.setItem('artSupplies', JSON.stringify(artSupplies));
                newSupplyInput.value = '';
                renderSupplies();
            }
        }

        // Event listeners
        addSupplyBtn.addEventListener('click', addNewSupply);
        newSupplyInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                addNewSupply();
            }
        });

        // ===== Project Tracker =====
        const projectsList = document.getElementById('projectsList');
        const addProjectBtn = document.getElementById('addProject');

        let artProjects = JSON.parse(localStorage.getItem('artProjects')) || [
            { title: 'Sunset Landscape', date: '2023-05-15', status: 'in-progress' },
            { title: 'Abstract Composition', date: '2023-05-05', status: 'completed' }
        ];

        function renderProjects(filter = 'all') {
            projectsList.innerHTML = '';
            
            const filteredProjects = artProjects.filter(project => {
                if (filter === 'all') return true;
                return project.status === filter.replace('-', ' ');
            });
            
            filteredProjects.forEach((project, index) => {
                const projectCard = document.createElement('div');
                projectCard.className = 'project-card';
                
                const projectHeader = document.createElement('div');
                projectHeader.className = 'project-header';
                
                const titleDiv = document.createElement('div');
                titleDiv.className = 'project-title';
                titleDiv.textContent = project.title;
                
                const dateDiv = document.createElement('div');
                dateDiv.className = 'project-date';
                dateDiv.textContent = `Started: ${formatProjectDate(project.date)}`;
                
                projectHeader.appendChild(titleDiv);
                projectHeader.appendChild(dateDiv);
                
                const statusDiv = document.createElement('div');
                statusDiv.className = `project-status status-${project.status.replace(' ', '-')}`;
                statusDiv.textContent = project.status.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase());
                
                projectCard.appendChild(projectHeader);
                projectCard.appendChild(statusDiv);
                
                // Add click to edit
                projectCard.addEventListener('click', () => {
                    editProject(index);
                });
                
                projectsList.appendChild(projectCard);
            });
        }

        function formatProjectDate(dateStr) {
            const options = { year: 'numeric', month: 'short', day: 'numeric' };
            return new Date(dateStr).toLocaleDateString(undefined, options);
        }

        function addNewProject() {
            const title = prompt('Enter project title:');
            if (title && title.trim() !== '') {
                artProjects.push({
                    title: title.trim(),
                    date: new Date().toISOString().split('T')[0],
                    status: 'planning'
                });
                localStorage.setItem('artProjects', JSON.stringify(artProjects));
                renderProjects();
            }
        }

        function editProject(index) {
            const project = artProjects[index];
            const newTitle = prompt('Edit project title:', project.title);
            if (newTitle && newTitle.trim() !== '') {
                project.title = newTitle.trim();
                
                const newStatus = prompt('Update status (planning/in-progress/completed):', project.status);
                if (newStatus && ['planning', 'in-progress', 'completed'].includes(newStatus.toLowerCase())) {
                    project.status = newStatus.toLowerCase();
                }
                
                localStorage.setItem('artProjects', JSON.stringify(artProjects));
                renderProjects();
            }
        }

        // Event listeners
        addProjectBtn.addEventListener('click', addNewProject);
        
        // Project filter tabs
        document.querySelectorAll('#projectsList + .tab-container .tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const filter = tab.dataset.tab;
                renderProjects(filter);
                
                // Update active tab
                tab.parentElement.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
            });
        });

        // ===== Initialize App =====
        function initApp() {
            // Initialize ads
            initializeAds();
            
            // Color Palette
            generatePalette();
            renderSavedPalettes();
            
            // Art Prompts
            getRandomPrompt();
            renderFavoritePrompts();
            
            // Quotes
            getRandomQuote();
            renderSavedQuotes();
            
            // Sketchpad
            resizeCanvas();
            window.addEventListener('resize', debounce(resizeCanvas, 100));
            drawingHistory.push(canvas.toDataURL());
            historyIndex = 0;
            updateUndoRedoButtons();
            
            // Reference Images
            loadReferenceImages(referenceCategory.value);
            
            // Art Supplies
            renderSupplies();
            
            // Projects
            renderProjects();
        }

        // Start the app
        window.addEventListener('load', initApp);
    </script>
</body>
</html>